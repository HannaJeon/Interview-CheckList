
# 네트워크 정리
* [https://www.baemin.com](https://www.baemin.com)을 접속하면 일어나는 과정
	1. 클라이언트에서 웹 페이지 URL을 요청한다.
	2. 웹 페이지의 HTML 파일을 응답한다.
	3. HTML 파일에서 추가로 CSS나 JPEG 같은 파일이 필요하면 해당 파일들에 대한 추가적인 요청을 보낸다.
	4. 응답으로 받은 HTML, CSS, JS 등을 조합해서 웹 페이지를 표시한다.

> 이 과정은 HTTP 프로토콜 중심의 애플리케이션 계층을 기준으로 설명한 것이고, 다른 계층에서 어떤 동작이 일어나는지는 OSI 7계층을 통해 설명할 수 있다.  

* HTTP 메소드 종류 및 특징
	1. GET: 서버로부터 리소스 취득
	2. POST: 내용 전송,  서버측은 HTTP 헤더 항목 중 `Location:`에
          URI 주소 정보를 포함시켜 응답한다.
	3. PUT: 내용 전송(갱신 위주), 응답에  `Location:`를 포함시키지 않는다.
	4. DELETE: 파일 삭제
	5. HEAD: 4개밖에 모르냐고 물어 볼 때 대답용, GET과 같지만, Response로 헤더만 넘어 온다.

* GET과 POST의 차이
GET은 서버로 정보를 요청하기만 한다. POST는 정보를 HTTP 바디에 담아 웹서버로 전송하고, 이에 대한 반응을 받는다.

### OSI 7계층

* OSI란? 개방형 시스템 상호 연결(Open System Interconnection)
* 네트워크의 호환성을 위해 ISO(국제 표준화 기구)에서 제시한 모델
* TCP/IP는 OSI 참조 모델을 기반으로 실무화, 단순화 한 모형이다.

#### OSI 7 계층 종류

* 7계층 Application
	1. 응용 계층, 사용자가 네트웨크에 접근할 수 있도록 해주는 계층 사용자 인터페이스, 전자우편, 데이터베이스 관리 등 서비스 제공
	2. 프로토콜: HTTP, DNS, DHCP, FTP

* 6계층 Presentation
	1. 표현 계층, 이해할 수 있는 포멧 변환
	2. 운영체계의 한 부분으로 입력 또는 출력되는 데이터를 하나의 표현 형태로 변환 필요한 번역을 수행하여 두 장치가 일관되게 전송 데이터를 서로 이해할 수 있도록 한다.
	3. 프로토콜: JPEG, MPEG, SMP

* 5계층 Session
	1. 세션 계층 응용간의 질서 제어
	2. 통신 세션을 구성하는 계층으로 포트(Port) 연결이라고 할 수 있다. 사용자간의 포트연결(세션)이 유효한지 확인하고 설정
	3. 프로토콜: SSH, TLS

* 4계층 Transport
	1. 전송 계층 장비: 게이트웨이, 패킷 전송 신뢰 확인
	2. 전체 메세지를 발신지 대 수신지간 제어와 에러 관리 패킷들의 전송이 유효한지 확인하고 실패한 패킷은 재전송하도록 신뢰성 있는 통신 보장
	3. 프로토콜: TCP, UDP

* 3계층 Network
	1. 네트워크 계층 장비: 라우터, 목적지의 IP 주소로 데이터 전달
	2. 다중 네트워크 링크에서 패킷을 발신지로부터 목적지로 전달할 책임을 지닌다. 각 패킷이 시작 지점에서 최종 목적지까지 성공적으로 전달되도록 한다.
	3. 프로토콜: IP, IPv4, IPv6

* 2계층 Data link
	1. 데이터링크 계층, 장비: 브리지, 스위치
	2. 한 장치에서 다른 장치로 프레임(비트의 모음)을 전달하는 역할 스위치 같은 장비의 경우 MAC 주소를 이용하여 정확한 장치로 정보 전달
	3. 프로토콜: MAC

* 1계층 Physical
	1. 물리 계층 장비: 허브 리피터
	2. 물리적 매체를 통해 비트 흐름을 전송하기 위해 요구되는 기능들을 조정한다.
	3. 프로토콜: Ethernet

* OSI 계층별 데이터 명칭(PDU, Protocol Data Unit, 데이터 전송 단위)
	1. Application, Presentation, Session(7,6,5) - 데이터(Data)
	2. Transport(4) - 세그먼트
	3. Network(3) - 패킷
	4. Datalink(2) - 프레임
	5. Physical(1) - 비트

### TCP/UDP의 차이

* 트랜스 포트 계층
	1. 해당 용어는 트랜스포트 계층에서 사용되는 용어이다. 트랜스 포트 계층은 컴퓨터로 들어온 데이터(다른 웹서버로부터 받은 데이터들)를 각 프로그램으로 정확히 전달하는 역할을 담당한다. 즉, 네트워크 계층(3 계층)이 데이터를 수신지 컴퓨터로 전달하는 역할을 한다면, 트랜스포트 계층(4 계층)은 이 데이터를 각 애플리케이션으로 전달하는 역할을 한다.
	2. 이 때, 네트워크 계층으로 들어오는 정보는 포트 번호를 통해 어떤 애플리케이션으로 전달되는지 결정된다.(전달되는 패킷 안에 송신지, 수신지의 주소/ 포트번호가 있다.)

	* 포트 연결 과정
		1. 클라이언트 측에서 사용할 포트 결정(다이나믹 포트)
		2. 웹 서버의 80번 포트에 접속 요청
		3. 접속 허용시 통신 연결
		4. 이 때, 포트 번호와 IP 주소를 통해 상대방을 식별한다.

* TCP
	1. TCP는 트랜스 포트 계층의 프로토콜 중 하나로 웹이나 이메일처럼 데이터가 정확히 전달되어야 하는 통신에 사용된다. 이 때 데이터 전송시 데이터들을 세그먼트 단위로 분할하고 데이터가 제대로 전달되지 않았을 때 데이터를 재전송 한다. 이 때 세그먼트의 패킷 헤더에는 컨트롤 비트라는 것이 같이 전송되는데, 이를 통해 현재 통신의 상태를 표현한다.
	2. 3 방향 핸드 셰이크(3번 왔다갔다하면 통신 요청)
		1. 클라이언트에서 서버로의 접속을 요청할 때, 컨트롤 비트의  SYN을 ON으로 설정 후 서버에 요청을 보낸다.
		2. 서버에서 그에 대한 반응을 표현하는 ACK 컨트롤 비트와 SYN 컨트롤 비트를 함께 클라이언트 측으로 전달한다.
		3. 클라이언트에서 서버의 전송에 대한 반응으로 ACK 컨트롤 비트를 서버로 전송한다.

* UDP
	1. UDP는 TCP와 같이 데이터를 재전송하지 않고, 접속만 체크하고 그냥 데이터를 전송한다. 그래서 중간에 데이터가 유실되어도 새로 데이터를 전송하지 않는다.
	2. UDP는 VoIP나 동영상 스트리밍 같이 전송 속도가 빨라야 하고, 데이터가 일부 유실되어도 크게 문제가 되지 않는 부분에서 사용된다.
	3. TCP에 없는 기능으로 브로드캐스트와 멀티캐스트가 있는데, 이는 하나의 패킷을 여러 컴퓨터로 보내는 기능이다.


* L4 스위치
	1. Layer 4(트랜스포트 계층)에서 패킷을 확인하고 세션을 관리하며, 로드밸런싱을 제공하는 스위치
	2. 복수개의 웹서버가 있을 때, 임의의 웹서버에 접속을 시도하면, 스위치가 각 서버의 부하를 고려하여 적당한 서버와 연결시켜준다.
